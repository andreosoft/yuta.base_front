{"version":3,"sources":["webpack:///./src/views/signup/profile.vue?44ea","webpack:///src/views/signup/profile.vue","webpack:///./src/views/signup/profile.vue?f9ae","webpack:///./src/views/signup/profile.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_e","_v","_s","fields","login","staticStyle","padding-left","position","display","attrs","title","on","click","$event","actions","label","labels","name","error","errors","change-model","validate","model","value","callback","$$v","$set","expression","surname","password","staticRenderFns","profilevue_type_script_lang_js_","mixins","FormMixing","data","user","validators","Fields","api","config_api","set_profile","computed","get","$store","getters","set","created","methods","submit","_this","loading","axios_default","a","post","then","response","isLoad","hasChanges","commit","catch","e","console","log","signup_profilevue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0bd584.af81ee2a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.loading)?_c('div',{staticClass:\"loading-block\"},[_c('div',{staticClass:\"loader\"})]):_vm._e(),_c('div',{staticClass:\"clearfix\"},[_c('div',{staticClass:\"float-left\"},[_c('h1',[_vm._v(\"Профиль пользователя \"),_c('b',[_vm._v(_vm._s(_vm.fields.login))])])]),_c('div',{staticClass:\"float-right\"},[_c('span',{staticStyle:{\"padding-left\":\"4px\",\"position\":\"relative\",\"display\":\"inline-block\"}},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"title\":\"Сохранить\"},on:{\"click\":function($event){return _vm.actions('submit')}}},[_c('i',{staticClass:\"fas fa-save\"})]),(this.hasChanges)?_c('div',{staticClass:\"btn-info-alert\",attrs:{\"title\":\"У вас есть несохраненные изменения\"}}):_vm._e()]),_c('span',{staticStyle:{\"padding-left\":\"4px\"}},[_c('button',{staticClass:\"btn btn-danger\",attrs:{\"title\":\"Сохранить и закрыть\"},on:{\"click\":function($event){return _vm.actions('submitAndExit')}}},[_c('i',{staticClass:\"fas fa-save\"})])]),_c('span',{staticStyle:{\"padding-left\":\"4px\"}},[_c('button',{staticClass:\"btn btn-danger\",attrs:{\"title\":\"Закрыть\"},on:{\"click\":function($event){return _vm.actions('exit')}}},[_c('i',{staticClass:\"fas fa-times-circle\"})])])])]),_c('hr'),_c('v-panel',{attrs:{\"title\":'Основные'}},[_c('v-text',{attrs:{\"label\":_vm.labels.name,\"error\":_vm.errors.name},on:{\"change-model\":function($event){return _vm.validate('name', _vm.fields.name)}},model:{value:(_vm.fields.name),callback:function ($$v) {_vm.$set(_vm.fields, \"name\", $$v)},expression:\"fields.name\"}}),_c('v-text',{attrs:{\"label\":_vm.labels.surname,\"error\":_vm.errors.surname},on:{\"change-model\":function($event){return _vm.validate('surname', _vm.fields.surname)}},model:{value:(_vm.fields.surname),callback:function ($$v) {_vm.$set(_vm.fields, \"surname\", $$v)},expression:\"fields.surname\"}}),_c('v-text',{attrs:{\"label\":_vm.labels.password,\"error\":_vm.errors.password},on:{\"change-model\":function($event){return _vm.validate('password', _vm.fields.password)}},model:{value:(_vm.fields.password),callback:function ($$v) {_vm.$set(_vm.fields, \"password\", $$v)},expression:\"fields.password\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-if=\"loading\" class=\"loading-block\">\n      <div class=\"loader\"></div>\n    </div>\n    <div class=\"clearfix\">\n      <div class=\"float-left\">\n        <h1>Профиль пользователя <b>{{fields.login}}</b></h1>\n      </div>\n      <div class=\"float-right\">\n        <span style=\"padding-left: 4px; position: relative; display: inline-block;\">\n          <button class=\"btn btn-primary\" title=\"Сохранить\" @click=\"actions('submit')\"><i class=\"fas fa-save\"></i></button>\n          <div class=\"btn-info-alert\" title=\"У вас есть несохраненные изменения\" v-if=\"this.hasChanges\"></div>\n        </span>\n        <span style=\"padding-left: 4px;\">\n          <button class=\"btn btn-danger\" title=\"Сохранить и закрыть\" @click=\"actions('submitAndExit')\"><i class=\"fas fa-save\"></i></button>\n        </span>\n        <span style=\"padding-left: 4px;\">\n         <button class=\"btn btn-danger\" title=\"Закрыть\" @click=\"actions('exit')\"><i class=\"fas fa-times-circle\"></i></button>\n        </span>\n      </div>\n    </div>\n    <hr>\n    <v-panel :title=\"'Основные'\">\n      <v-text v-model=\"fields.name\" :label=\"labels.name\" v-on:change-model=\"validate('name', fields.name)\" :error=\"errors.name\"></v-text>\n      <v-text v-model=\"fields.surname\" :label=\"labels.surname\" v-on:change-model=\"validate('surname', fields.surname)\" :error=\"errors.surname\"></v-text>\n      <v-text v-model=\"fields.password\" :label=\"labels.password\" v-on:change-model=\"validate('password', fields.password)\" :error=\"errors.password\"></v-text>\n    </v-panel>\n  </div>\n</template>\n\n<script>\nimport FormMixing from '@/widgets/FormMixing'\nimport model from '@/models/user.js'\nimport api from '@/config/api.js'\nimport axios from 'axios'\n\nexport default {\n  mixins: [FormMixing],\n  data: function() {\n    return {\n      model: model,\n      validators: model.validators,\n      labels: model.labels,\n      errors: new model.Fields().fields,\n      api: api.set_profile\n    }\n  },\n  computed: {\n    fields: {\n      get () {\n        return this.$store.getters['auth/profile']\n      },\n      set (value) {\n\n      }\n    }\n  },\n  created () {\n  },\n  methods: {\n    submit: function(fields, api) {\n      this.loading = true\n      axios\n      .post(api, fields)\n      .then(response => {\n        this.loading = false\n        this.fields = response.data.data\n        this.isLoad = false\n        this.hasChanges = false\n        this.$store.commit('auth/updateProfile', this.fields)\n      })\n      .catch(e => {console.log(e)})\n    },\n    // send: function() {\n    //   axios\n    //   .post(this.api, this.user)\n    //   .then(response => {\n    //     if (response.data.status == 'error') {\n    //       this.errors = response.data.data\n    //     } else {\n    //       this.haschanges = false\n    //       this.params.id = response.data.data['id']\n    //       if (response.data.status == 'saved') {\n    //         this.$store.commit('auth/updateProfile', this.user)\n    //         this.$root.showInfo('Профиль изменен')\n    //       }\n    //     }\n    //   })\n    //   .catch(e => {console.log(e)})\n    // },\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./profile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./profile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./profile.vue?vue&type=template&id=07490233&\"\nimport script from \"./profile.vue?vue&type=script&lang=js&\"\nexport * from \"./profile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}